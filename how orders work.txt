If a user logs in:
user adds to cart 
order details go in order_item table
if the order isnt payed the boolean column payed is by deafault 1 i.e not payed
when the user views the cart, a function shows all the orders on the table order_item with the same customer id
when the user heads to checkout, it displays all data with the user id in the customer session variable, and payed status "1" from the table order_item
gets all the unpaid items, totals the price and then does the payment stuff
once the payment is succesful, the payed is changed to 0 and the order goes in the table orders(this table conatins only paid orders)

for guests
as soon as a guest presses any add to cart button, we delete all present data in table temp_guest and create new random guest name, give it a ticket id , qty and price(qty into stated price)
when the guest users goes to the shopping cart, they basically display data from the temp-guest the same way we did from order_item
if the guest actually pays, insert the guest data order ietms in table order_item with status payed and also in the orders table
 